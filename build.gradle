buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath "com.moneysupermarket.componentcatalog:component-catalog-component-metadata:$componentMetadataVersion"
    }
}

plugins {
    id "base"
}

import com.moneysupermarket.componentcatalog.componentmetadata.services.ComponentMetadataValidator

tasks.register("validateComponentMetadata") {
    doLast {
        ComponentMetadataValidator.validate(file("component-metadata.yaml"))
    }
}

tasks.named("build") { dependsOn("validateComponentMetadata") }
